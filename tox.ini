[tox]
skipsdist = True
envlist = py37, flake8, mypy, pydocstyle

[testenv]
whitelist_externals = poetry
deps = nose
commands =
    poetry install -v --no-dev -E cpu
    poetry run nosetests -s -v tests/

[testenv:flake8]
deps = flake8
commands = 
    poetry install -v --no-dev -E cpu
    poetry run flake8 .

[flake8]
exclude = 
    tests,
    .git,
    .tox,
    __pycache__,
    *.pyc,
    .mypy_cache
max-line-length = 120

[testenv:pydocstyle]
deps = flake8
commands = 
    poetry install -v --no-dev -E cpu
    poetry run pydocstyle .

[pydocstyle]
ignore = D100,D107,D203,D213,D407

[testenv:mypy]
deps = mypy
commands = 
    poetry install -v --no-dev -E cpu
    poetry run mypy .
